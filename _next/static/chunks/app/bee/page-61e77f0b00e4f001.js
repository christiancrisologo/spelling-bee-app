(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[854],{7698:function(e,t,s){Promise.resolve().then(s.bind(s,4244))},8549:function(e,t,s){"use strict";var r=s(7437),l=s(6800),a=s.n(l),n=s(2265);t.Z=e=>{let{options:t,onChange:s,selected:l,label:o,className:i}=e,[d,c]=(0,n.useState)(l),u=a()("flex-col  my-2",i);return(0,r.jsxs)("div",{className:u,children:[(0,r.jsx)("label",{className:"flex ms-2 self-center text-blue-900 font-medium",children:o}),(0,r.jsx)("div",{className:"inline-flex  mt-2",role:"group",children:t.map((e,l)=>{let{label:n}=e,o=a()("px-4 py-2 text-sm font-medium border border-blue-500 hover:bg-blue-900 hover:text-white focus:z-10 focus:ring-2 focus:ring-blue-500 focus:bg-blue-900 focus:text-white active:bg-blue-800",{"rounded-s-lg":0===l,"rounded-e-lg":l>=t.length-1,"bg-blue-800":d===n,"text-white":d===n,"bg-slate-100":d!=n,"text-gray-900":d!=n});return(0,r.jsx)("button",{type:"button",className:o,onClick:()=>{c(n),s(n)},children:n},l)})})]})}},4244:function(e,t,s){"use strict";s.d(t,{default:function(){return M}});var r=s(7437),l=s(2265);let a={userAnswerInput:"",gameWords:[],level:0,currentWord:void 0,correctAnswers:0,wrongAnswers:0,roundCount:0,skippedWords:0,gameStatus:"selection",gameAction:"",restartTimer:!1,currentTime:0,totalTime:0,shuffledWord:"",gameSelection:{totalSeconds:0,totalWords:0,difficulty:"Easy",enableTimer:"Off"}};function n(e,t){switch(t.type){case"setGameWords":case"setGameWords":return{...e,gameWords:t.payload};case"setGameLevel":return{...e,level:t.payload};case"setGameSelections":return{...e,gameSelection:t.payload};case"setCurrentWord":case"setCurrentWord":case"setCurrentWord":return{...e,currentWord:t.payload};case"setUserAnswerInput":return{...e,userAnswerInput:t.payload};case"setCorrectAnswers":return{...e,correctAnswers:t.payload};case"setWrongAnswers":return{...e,wrongAnswers:t.payload};case"setRoundCount":return{...e,roundCount:t.payload};case"setSkippedWords":return{...e,skippedWords:t.payload};case"setGameStatus":return{...e,gameStatus:t.payload};case"setGameAction":return{...e,gameAction:t.payload};case"setRestartTimer":return{...e,restartTimer:t.payload};case"setCurrentTime":return{...e,currentTime:t.payload};case"setTotalTime":return{...e,totalTime:t.payload};case"setShuffledWord":return{...e,shuffledWord:t.payload};default:return e}}let o=(0,l.createContext)({state:a,dispatch:()=>null}),i=()=>(0,l.useContext)(o),d=e=>{let{children:t}=e,[s,i]=(0,l.useReducer)(n,a);return(0,r.jsx)(o.Provider,{value:{state:s,dispatch:i},children:t})};var c=function(e){let{state:{currentTime:t},dispatch:s}=i(),{startTime:a=0,endTime:n=0,isCountdown:o=!1,start:d,onTimerOver:c}=e,[u,m]=(0,l.useState)(a);(0,l.useEffect)(()=>{d&&m(a)},[d,a]),(0,l.useEffect)(()=>{s({type:"setCurrentTime",payload:u})},[u,s]),(0,l.useEffect)(()=>{let e=setInterval(()=>{o?u>n?m(u-1):(clearInterval(e),c&&c()):u<n?m(u+1):(clearInterval(e),c&&c())},1e3);if(!1===d){clearInterval(e);return}return()=>clearInterval(e)},[u,n,o,d,c]);let x=Math.floor(u/60),p=u%60,h="".concat(x.toString().padStart(2,"0"),":").concat(p.toString().padStart(2,"0"));return(0,r.jsx)("div",{className:"flex justify-center items-center",children:(0,r.jsxs)("span",{className:"",children:["⏱️ ",h]})})};function u(e){let{correctAnswers:t,playerName:s,restartTimer:a,stopTimer:n,onTimerOver:o,enableTimer:i,totalSeconds:d,level:u}=e,m=(0,l.useMemo)(()=>{let e={startTime:d,endTime:0,isCountdown:!0,start:!0};return a?(e.startTime=d,e.start=!0):e.start=!1,n&&(e.start=!1),e},[a,n,d]);return(0,r.jsxs)("div",{className:"flex justify-between items-center p-4 bg-white shadow-md",children:[(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("span",{className:"pr-4",children:["\uD83C\uDFC5 Score : ",t," ",(0,r.jsxs)("span",{className:"text-gray-400",children:["(",u,")"]})]})}),(0,r.jsx)("span",{className:"text-fuchsia-600 text-xl font-bold",children:s}),i?(0,r.jsx)(c,{startTime:m.startTime,isCountdown:m.isCountdown,endTime:m.endTime,start:m.start,onTimerOver:o}):(0,r.jsx)("span",{children:"No timer"})]})}let m=e=>{for(let t=e.length-1;t>0;t--){let s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e};function x(e){let{wrongAnswers:t,skippedWords:s,totalWords:l,roundCount:a,onQuit:n}=e;return(0,r.jsxs)("div",{className:"flex justify-between items-center mt-auto  p-4 bg-white shadow-md",children:[(0,r.jsxs)("span",{children:["Round: ",a," / ",(0,r.jsx)("span",{className:"text-blue-700",children:l})," "]}),(0,r.jsxs)("span",{className:"hidden sm:block",children:["Wrong answers: ",t]}),(0,r.jsxs)("span",{className:"hidden sm:block",children:["Skipped words: ",s]}),(0,r.jsx)("button",{className:" p-2 bg-red-500 text-white hover:bg-red-700 focus:outline-none text-xl font-bold rounded-xl",onClick:()=>n&&n(),children:"Quit"})]})}function p(){return(0,r.jsxs)("div",{className:"flex justify-center items-center text-lg mt-8",children:[(0,r.jsxs)("div",{role:"status",children:[(0,r.jsxs)("svg",{"aria-hidden":"true",className:"inline w-8 h-8 text-gray-200 animate-spin dark:text-gray-100 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})]}),(0,r.jsx)("div",{className:"ps-1 font-bold",children:"Loading!.."})]})}var h=s(6463),f=s(8549);let y=[{label:"Easy"},{label:"Hard"}],g=[{label:"On"},{label:"Off"}];function b(e){let{onStart:t}=e,{state:s,dispatch:a}=i(),[n,o]=(0,l.useState)({difficulty:"Easy",enableTimer:"On",totalSeconds:45,totalWords:10}),d=()=>{a({type:"setGameSelections",payload:n}),t()};return(0,r.jsxs)("div",{className:"flex justify-center flex-col",children:[(0,r.jsxs)("div",{className:"flex justify-center  self-center flex-col mb-4",children:[(0,r.jsx)(f.Z,{label:"Difficulty",options:y,onChange:e=>{o({...n,difficulty:e})},selected:n.difficulty}),(0,r.jsx)(f.Z,{label:"Enable Timer",options:g,onChange:e=>{o({...n,enableTimer:e})},selected:n.enableTimer}),(0,r.jsxs)("div",{className:"flex-row mt-2",children:[(0,r.jsx)("label",{htmlFor:"total-seconds-number",className:"self-center me-4 text-blue-900 font-medium disabled:text-gray-200",children:"Total Seconds"}),(0,r.jsx)("input",{id:"total-seconds-number",type:"number",className:"p-2 w-20 text-black text-lg font-semibold bg-gray-100 border-gray-300  focus:ring-blue-500 rounded-lg disabled:bg-gray-400 disabled:text-gray-200 disabled:border-white",value:"On"===n.enableTimer?n.totalSeconds:0,placeholder:"Total seconds",onChange:e=>{o({...n,totalSeconds:parseInt(e.target.value)||10})},disabled:"On"!==n.enableTimer})]}),(0,r.jsxs)("div",{className:"flex mt-4 flex-row",children:[(0,r.jsx)("label",{htmlFor:"total-words-number",className:"self-center me-8 text-blue-900 font-medium",children:"Total Words"}),(0,r.jsx)("input",{id:"total-words-number",type:"number",className:"p-2 w-20 text-black text-lg font-semibold bg-gray-100 border-gray-300  focus:ring-blue-500 rounded-lg",value:n.totalWords,placeholder:"Total words",onChange:e=>{o({...n,totalWords:parseInt(e.target.value)||5})}})]})]}),(0,r.jsx)("button",{className:"mt-2 p-4 w-auto md:w-1/2 self-center bg-blue-500 text-white hover:bg-blue-700 focus:outline-none text-xl font-bold rounded-xl disabled:bg-gray-400",onClick:d,onKeyDown:e=>{13===e.keyCode&&d()},children:"Start a New Game"})]})}let w=()=>{let[e,t]=(0,l.useState)(null),s=(0,l.useCallback)((t,s)=>{if(!e){console.warn("SpeechSynthesis not ready!");return}let r=e.getVoices().filter(e=>"en-AU"===e.lang||"en-GB"===e.lang),l=new SpeechSynthesisUtterance(t),a=r.find(e=>"Daniel"===e.name);if(l.voice=a,(null==s?void 0:s.voice)==="random"&&(l.voice=function(e){let t=Math.floor(Math.random()*e.length);return e[t]}(r)),null==s?void 0:s.voice){let e=r.find(e=>e.name===(null==s?void 0:s.voice));l.voice=e||a}l.pitch=(null==s?void 0:s.pitch)||.2,l.volume=(null==s?void 0:s.volume)||1,l.rate=(null==s?void 0:s.rate)||.01,e.speak(l)},[e]);return(0,l.useEffect)(()=>{window.speechSynthesis,e||(window.speechSynthesis.onvoiceschanged?window.speechSynthesis.onvoiceschanged=function(){t(window.speechSynthesis)}:t(window.speechSynthesis))},[e]),{speak:s,speechSynth:e}};var v=s(6648);let j=e=>{let{label:t="",value:s=""}=e;return(0,r.jsxs)("div",{className:"p-2 flex flex-row",children:[(0,r.jsx)("span",{className:"text-gray-700 flex py-1 me-2 w-40",children:t}),(0,r.jsx)("div",{className:"py-1 px-2 rounded text-white bg-slate-400 font-semibold",children:s})]})},N=(e,t)=>(0,r.jsx)(v.default,{src:"/star-".concat(e<Math.ceil(5*t)?"fill":"empty",".png"),alt:"empty star",width:"32",height:"32"});var S=e=>{let{playerName:t,correctAnswers:s,wrongAnswers:l,skippedWords:a,totalWords:n,totalTime:o}=e,i=s/n;return(0,r.jsxs)("div",{className:"md:w-1/2 self-center mt-2",children:[(0,r.jsxs)("h1",{className:"text-center mb-8 text-4xl font-extrabold",children:["Good Job ",(0,r.jsxs)("span",{className:"text-orange-700",children:[t," "]}),"!"]}),(0,r.jsxs)("div",{className:"mt-4 bg-slate-100 border-gray-400 rounded-xl p-4 border-4 shadow-sm ",children:[(0,r.jsx)("h2",{className:"text-blue-500 text-center text-2xl font-extrabold",children:"Your Spelling Bee Result"}),(0,r.jsxs)("div",{className:"flex-col mt-4",children:[(0,r.jsx)(j,{label:"Total Seconds",value:o.toString()}),(0,r.jsx)(j,{label:"Correct Answers",value:t}),(0,r.jsx)(j,{label:"Wrong Answers",value:l.toString()}),(0,r.jsx)(j,{label:"Skipped Words",value:a.toString()}),(0,r.jsx)(j,{label:"Total Rating",value:"".concat(i.toFixed(0),"%")}),(0,r.jsx)("div",{className:"p-2 flex flex-row",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{children:N(t,i)},t))})]})]})]})},C=e=>{let{word:t=""}=e;return(0,r.jsx)("div",{className:"flex flex-row mt-3 flex-wrap justify-center",children:t.split("").map((e,t,s)=>{let l="calc((100% - ".concat(.5*s.length,"rem) / ").concat(s.length,")");return(0,r.jsx)("div",{style:{width:l,maxWidth:70},className:"p-4 border-solid border-2 border-orange-500 mx-0 md:mx-1 bg-white shadow-lg rounded-md flex justify-center items-center",children:(0,r.jsx)("h1",{className:"text-3xl font-bold text-orange-500",children:e.toUpperCase()})},t)})})},T=s(4440),k=s(357);async function W(e){let{playerName:t,totalSeconds:s,wrongAnswers:r,correctAnswers:l,rating:a,level:n,difficulty:o}=e;try{return console.log({POSTGRES_URL:k.env.POSTGRES_URL,POSTGRES_URL_NON_POOLING:k.env.POSTGRES_URL_NON_POOLING}),await T.i6.query("\n      INSERT INTO gameplay (\n        playerName,\n        totalSeconds,\n        wrongAnswers,\n        correctAnswers,\n        rating,\n        level,\n        difficulty,\n        date\n      ) VALUES ($1, $2, $3, $4, $5, $6, $7, DEFAULT)\n    ",[t,s,r,l,a,n,o]),{message:"Gameplay data inserted successfully"}}catch(e){console.error("Error inserting gameplay data:",e)}}let A=e=>{let{onClick:t,children:s}=e;return(0,r.jsx)("button",{className:"flex grow bg-white p-4 m-1 border-gray-500 hover:border-blue-500 hover:text-blue-500 border-gray-40 border-4 rounded-xl text-lg font-bold text-center",onClick:t,children:s})},G=["Sorry time is over!","Too slow, time is out","Time out","You have ran out of time"],O=["You are Correct!","Awesome!","That's correct","Too easy","You are right!","Piece of cake!","Correct, you are amazing"],E=["Oops! not this time. Try again","That's incorrect","No luck, try again","Sorry, try again","Wrong, try again","Maybe stop guessing, try again","I dont think that's right"],R=e=>{var t,s;let r=["this word have "+(null==e?void 0:e.word.length)+" letters","It starts with the letter "+(null==e?void 0:e.word[0]),"It ends with the letter "+(null==e?void 0:e.word[(null==e?void 0:e.word.length)-1])];return(null==e?void 0:null===(t=e.synonyms)||void 0===t?void 0:t.length)&&r.push("This is with a synonym of "+(null==e?void 0:e.synonyms.toString())),(null==e?void 0:null===(s=e.antonyms)||void 0===s?void 0:s.length)&&r.push("This is with an antonym of "+(null==e?void 0:e.antonyms.toString())),(null==e?void 0:e.category)&&(null==e?void 0:e.category)!=="other"&&r.push("This is categorized as a "+(null==e?void 0:e.category)),r},I=e=>{let{words:t}=e,s=(0,l.useRef)(null),a=(0,h.useSearchParams)(),{state:{gameWords:n,gameSelection:{totalWords:o,difficulty:d,totalSeconds:c},userAnswerInput:f,currentWord:y,shuffledWord:g,correctAnswers:v,wrongAnswers:j,roundCount:N,skippedWords:T,gameStatus:k,gameAction:I,restartTimer:M,gameSelection:_,currentTime:L,totalTime:U},dispatch:P}=i(),{speak:D,speechSynth:$}=w(),F=a.get("playerName")||"no-name",Z=a.get("level")||"expert/senior",Y=e=>{D(e,{pitch:1.5,rate:.8})},z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e>t?e:Math.floor(Math.random()*(t-e+1))+e}(0,e.length-1);Y(e[s]||t)},B=(0,l.useCallback)(()=>{let e=function(e){let t=Math.floor(Math.random()*e.length);return e[t]}(n);P({type:"setCurrentWord",payload:e}),Y(e.word);let t=n.filter(e=>e.word!=(null==y?void 0:y.word));P({type:"setShuffledWord",payload:m(e.word.split("")).join("")}),P({type:"setGameWords",payload:t})},[n,P,Y,y]),K=()=>{P({type:"setGameStatus",payload:"answer-correct"}),z(O,"correct!"),P({type:"setCorrectAnswers",payload:v+1}),P({type:"setTotalTime",payload:U+L}),q()},Q=()=>{f.trim().toLowerCase()===(null==y?void 0:y.word.toLowerCase())?K():z(E,"incorrect")},V=(0,l.useCallback)(()=>N>=o,[N,o]),q=(0,l.useCallback)(async()=>{P({type:"setGameAction",payload:"next-word"})},[P]),H=()=>{P({type:"setGameStatus",payload:"skip-word"}),P({type:"setSkippedWords",payload:T+1}),P({type:"setRestartTimer",payload:!1}),P({type:"setGameAction",payload:"skip-word"})};(0,l.useEffect)(()=>{let e;if("start"===I&&(e=setTimeout(()=>{q()},1e3)),"next-word"===I){if(V()){P({type:"setGameAction",payload:"game-over"});return}e=setTimeout(()=>{P({type:"setUserAnswerInput",payload:""}),P({type:"setGameStatus",payload:"playing"}),P({type:"setRestartTimer",payload:!0}),P({type:"setRoundCount",payload:N+1}),P({type:"setGameAction",payload:""}),setTimeout(()=>{s.current&&s.current.focus()},500),B()},2500)}return"skip-word"===I&&(e=setTimeout(()=>{V()?P({type:"setGameAction",payload:"game-over"}):q()},1e3)),"game-over"===I&&(e=setTimeout(()=>{P({type:"setGameStatus",payload:"game-over"})},1500)),()=>{e&&clearTimeout(e)}},[I,_,n,N,_.totalWords,B,P,q,V]);let J=()=>{Q()},X=e=>{13===e.keyCode&&J()},ee=t.length&&!!$,et=null==y?void 0:y.word,es=["game-over","skip-word","answer-correct"].includes(k),er=L<=(c/2||4);return(0,l.useEffect)(()=>{(async()=>{if("game-over"===k){console.log("saving the game's data");let e=v/o*100;console.log(await W({playerName:F,totalSeconds:c,wrongAnswers:j,correctAnswers:v,rating:e,level:Z,difficulty:d}))}})()},[k,v,o,F,c,j,Z,d]),(0,r.jsx)(l.Suspense,{children:(0,r.jsxs)("div",{className:"flex flex-col h-screen bg-gray-200 w-full",children:[(0,r.jsx)(u,{correctAnswers:v,playerName:F,onTimerOver:()=>{P({type:"setGameStatus",payload:"timeout"}),P({type:"setWrongAnswers",payload:j+1}),z(G),P({type:"setRestartTimer",payload:!1}),V()?P({type:"setGameAction",payload:"game-over"}):q()},restartTimer:M,enableTimer:"On"===_.enableTimer,totalSeconds:_.totalSeconds,stopTimer:es,level:Z}),!ee&&(0,r.jsx)(p,{}),ee&&(0,r.jsx)("div",{className:"p-4 w-11/12 mt-4 self-center",children:(0,r.jsxs)("div",{className:"flex flex-col justify-center",children:["selection"===k&&(0,r.jsx)(b,{onStart:()=>{P({type:"setGameWords",payload:t.filter(e=>e.level===Z)}),P({type:"setGameStatus",payload:"start"}),P({type:"setGameAction",payload:"start"})}}),"start"===k&&(0,r.jsx)("div",{className:"md:w-1/2 self-center mt-2",children:(0,r.jsx)("h1",{className:"text-center mb-8 text-4xl font-extrabold",children:"Game is starting..."})}),"playing"===k&&er&&(0,r.jsx)("button",{className:"bg-orange-100 p-4 mb-4 rounded-xl text-xl font-bold hover:bg-orange-200 border",onClick:()=>{H()},children:"Skip the word"}),"timeout"===k&&(0,r.jsx)("div",{className:"px-5 py-4 rounded-xl text-4xl font-bold text-center",children:"TimeOut!"}),("skip-word"===k||"timeout"===k)&&(0,r.jsxs)("div",{className:" px-5 py-4 rounded-xl text-2xl font-bold text-center",children:["The correct answer is"," ",(0,r.jsx)("span",{className:"text-red-500",children:null==y?void 0:y.word})]}),"answer-correct"===k&&(0,r.jsx)("div",{className:" px-5 py-4 rounded-xl text-2xl font-bold text-center",children:"You are correct!"}),"playing"===k&&(0,r.jsxs)("div",{className:"game-container mt-2",children:[(0,r.jsx)("div",{className:"flex justify-center flex-col",children:(0,r.jsxs)("div",{className:"flex justify-center flex-col",children:[(0,r.jsx)("input",{type:"text",name:"word-input",id:"word-input",className:"bg-white p-4 rounded-xl text-2xl font-bold",placeholder:"Spell the word here!",value:f,onChange:e=>P({type:"setUserAnswerInput",payload:e.target.value}),onKeyDown:X,disabled:!(null==y?void 0:y.word),autoComplete:"off",spellCheck:"false",ref:s}),(0,r.jsx)("button",{className:"mt-1 p-4 bg-blue-500 text-white hover:bg-blue-700 focus:outline-none text-2xl font-bold rounded-xl disabled:bg-gray-400",onClick:J,disabled:!f.length,onKeyDown:X,children:"Submit"})]})}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between mt-2",children:[(0,r.jsx)(A,{onClick:()=>{Y(et)},children:"Say it again?"}),(0,r.jsx)(A,{onClick:()=>{Y("this word means "+(null==y?void 0:y.definition))},children:"Define the word?"}),(0,r.jsx)(A,{onClick:()=>{z(R(y))},children:" Give me a hint?"})]}),"Easy"===d&&er&&(0,r.jsx)(C,{word:g})]}),"game-over"===k&&(0,r.jsx)(S,{correctAnswers:v,totalWords:o,playerName:F,wrongAnswers:j,skippedWords:T,totalTime:U})]})}),(0,r.jsx)(x,{roundCount:N,skippedWords:T,wrongAnswers:j,totalWords:o,onQuit:()=>{window.location.href="/"}})]})})};function M(e){let{words:t}=e;return(0,r.jsx)(d,{children:(0,r.jsx)(l.Suspense,{children:(0,r.jsx)(I,{words:t})})})}}},function(e){e.O(0,[449,802,971,23,744],function(){return e(e.s=7698)}),_N_E=e.O()}]);